<!DOCTYPE html>
<html dir="ltr" lang="ru" class="no-js">
	<head>
		<title>Google Shop</title>
		<link
			rel="stylesheet"
			crossorigin="anonymous"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
			integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T">
		<link
			rel="stylesheet"
			href="dist/css/app.css">
	</head>
	<body>

		<div class="wrapper mt-5">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<h1 class="text-center mb-5">Goggle Shop</h1>
					</div>
				</div>
				<div id="shop-field" class="row"></div>
			</div>
		</div>

		<script id="shop-item" type="text/x-handlebars-template">
			{{#each pets}}
			<div class="pet">
				<div class="photo-column">
					<img src="{{photo}}" alt="">
				</div>
				<div class="info-column">
					<h2>{{name}} <span class="species">{{species}}</span></h2>

					<p>Age: {{calculateAge birthYear}}</p>

					{{#if favFoods}}
					<h4 class="headline-bar">Favorite Foods</h4>
					<ul class="favorite-foods">
						{{#each favFoods}}
						<li>{{{this}}}</li>
						{{/each}}
					</ul>
					{{/if}}
				</div>
			</div>
			{{/each}}
		</script>
		<div id="content"></div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.0/handlebars.js"></script>
		<script>
			// Регистрация хелпера для вычисления возраста
			Handlebars.registerHelper('calculateAge', function(birthYear) {
				const currentYear = new Date().getFullYear();
				return currentYear - birthYear;
			});
			// Данные для шаблона
			const context = {
				pets: [
					{
						name: 'Buddy',
						species: 'Dog',
						birthYear: 2015,
						photo: 'https://example.com/dog.jpg',
						favFoods: ['Bone', 'Chicken', 'Beef']
					},
					{
						name: 'Whiskers',
						species: 'Cat',
						birthYear: 2018,
						photo: 'https://example.com/cat.jpg',
						favFoods: ['Fish', 'Milk']
					}
				]
			};
			// Получаем HTML из шаблона
			const source = document.getElementById('shop-item').innerHTML;
			const template = Handlebars.compile(source);
			// Генерируем HTML с данными
			const html = template(context);
			// Вставляем сгенерированный HTML в контейнер
			document.getElementById('content').innerHTML = html;
		</script>

		<script type="module" src="dist/js/app.min.js"></script>
	</body>
</html>
